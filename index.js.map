{"version":3,"file":"index.js","sources":["../src/home.js"],"sourcesContent":["//Логіка сторінки Home\n//Логіка сторінки Home\n\nimport { getProductCategories, getProducts } from './js/products-api.js';\nimport { renderCategories, renderProducts } from './js/render-function.js';\nimport { refs } from './js/refs.js';\nimport {\n  onProductClick,\n  onModalActionsClick,\n  updateCounters,\n  onCategoryClick,\n  onSearchFormSubmit,\n  onLoadMoreClick,\n} from './js/handlers.js';\nimport {\n  handleScroll,\n  scrollToTop,\n  showLoader,\n  hideLoader,\n} from './js/helpers.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nasync function initializeHomePage() {\n  updateCounters();\n  showLoader();\n\n  try {\n    const [categories, productsData] = await Promise.all([\n      getProductCategories(),\n      getProducts(1),\n    ]);\n\n    renderCategories(['All', ...categories]);\n    renderProducts(productsData.products);\n\n    const totalRendered = productsData.products.length;\n    if (totalRendered < productsData.total) {\n      if (refs.loadMoreBtn) refs.loadMoreBtn.classList.remove('hidden');\n    } else {\n      if (refs.loadMoreBtn) refs.loadMoreBtn.classList.add('hidden');\n    }\n  } catch (error) {\n    //console.error('Помилка після завантаження даних:', error);\n    iziToast.error({ title: 'Error', message: 'Failed to load initial data.' });\n  } finally {\n    hideLoader();\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', initializeHomePage);\n\n// --- Слухачі подій ---\nif (refs.productsList)\n  refs.productsList.addEventListener('click', onProductClick);\nif (refs.categoriesList)\n  refs.categoriesList.addEventListener('click', onCategoryClick);\nif (refs.modalActions)\n  refs.modalActions.addEventListener('click', onModalActionsClick);\nif (refs.searchForm)\n  refs.searchForm.addEventListener('submit', onSearchFormSubmit);\nif (refs.loadMoreBtn)\n  refs.loadMoreBtn.addEventListener('click', onLoadMoreClick);\nif (refs.scrollUpBtn) {\n  window.addEventListener('scroll', handleScroll);\n  refs.scrollUpBtn.addEventListener('click', scrollToTop);\n}"],"names":["initializeHomePage","updateCounters","showLoader","categories","productsData","getProductCategories","getProducts","renderCategories","renderProducts","refs","iziToast","hideLoader","onProductClick","onCategoryClick","onModalActionsClick","onSearchFormSubmit","onLoadMoreClick","handleScroll","scrollToTop"],"mappings":"+LAuBA,eAAeA,GAAqB,CAClCC,IACAC,IAEA,GAAI,CACF,KAAM,CAACC,EAAYC,CAAY,EAAI,MAAM,QAAQ,IAAI,CACnDC,EAAsB,EACtBC,EAAY,CAAC,CACnB,CAAK,EAEDC,EAAiB,CAAC,MAAO,GAAGJ,CAAU,CAAC,EACvCK,EAAeJ,EAAa,QAAQ,EAEdA,EAAa,SAAS,OACxBA,EAAa,MAC3BK,EAAK,aAAaA,EAAK,YAAY,UAAU,OAAO,QAAQ,EAE5DA,EAAK,aAAaA,EAAK,YAAY,UAAU,IAAI,QAAQ,CAEhE,MAAe,CAEdC,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,8BAA8B,CAAE,CAC9E,QAAY,CACRC,GACD,CACH,CAEA,SAAS,iBAAiB,mBAAoBX,CAAkB,EAG5DS,EAAK,cACPA,EAAK,aAAa,iBAAiB,QAASG,CAAc,EACxDH,EAAK,gBACPA,EAAK,eAAe,iBAAiB,QAASI,CAAe,EAC3DJ,EAAK,cACPA,EAAK,aAAa,iBAAiB,QAASK,CAAmB,EAC7DL,EAAK,YACPA,EAAK,WAAW,iBAAiB,SAAUM,CAAkB,EAC3DN,EAAK,aACPA,EAAK,YAAY,iBAAiB,QAASO,CAAe,EACxDP,EAAK,cACP,OAAO,iBAAiB,SAAUQ,CAAY,EAC9CR,EAAK,YAAY,iBAAiB,QAASS,CAAW"}