import{u as l,r as t,o as g,a as L,h as C,s as T,b as y,l as u,c as h,d,g as P,e as E,p as B,S as o}from"./assets/handlers-NI4TkTMo.js";import{i}from"./assets/vendor-I1I71QQ2.js";function c(e,s){t.cartTotalItems&&(t.cartTotalItems.textContent=e),t.cartTotalPrice&&(t.cartTotalPrice.textContent=`$${s.toFixed(2)}`)}async function n(){y();const e=u(o.CART)||[];if(h(),e.length===0){t.productsList&&(t.productsList.innerHTML='<li class="cart-empty-message">Your cart is empty.</li>'),c(0,0),d();return}try{const s=e.map(r=>P(r)),a=await Promise.all(s);E(a);const p=a.length,m=a.reduce((r,f)=>r+f.price,0);c(p,m)}catch{i.error({title:"Error",message:"Failed to load cart products."}),c(0,0)}finally{d()}}function S(){(u(o.CART)||[]).length>0?(i.success({title:"Success",message:"Products purchased successfully!",position:"topRight"}),B(o.CART,[]),n(),l()):i.info({title:"Info",message:"Your cart is empty.",position:"topRight"})}function k(e){e.detail.key===o.CART&&n()}function v(){l(),n(),t.productsList&&t.productsList.addEventListener("click",g),t.modalActions&&t.modalActions.addEventListener("click",L),t.cartBuyBtn&&t.cartBuyBtn.addEventListener("click",S),t.scrollUpBtn&&(window.addEventListener("scroll",C),t.scrollUpBtn.addEventListener("click",T)),document.addEventListener("storageUpdated",k)}document.addEventListener("DOMContentLoaded",v);art;
//# sourceMappingURL=cart.js.map
